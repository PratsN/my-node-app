{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\my-node-app\\\\reactclient\\\\src\\\\Components\\\\Forgot.js\",\n  _s = $RefreshSig$();\nimport { Button, Stack, TextField } from \"@mui/material\";\nimport { useLocation, useNavigate, useParams, useSearchParams } from \"react-router-dom\";\nimport { Box } from \"@mui/system\";\nimport React, { useState } from \"react\";\nimport \"../Styles/Login.css\";\nimport axiosInstance from \"../utils/axiosInstance\";\nimport { isLower, isUpper } from \"../lib/stringValidator\";\nimport { useSnackbar } from \"notistack\";\n// import validator from \"validator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Forgot = () => {\n  _s();\n  let navigate = useNavigate();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    id\n  } = useParams();\n  const [error, setError] = useState(\"\");\n  let [forgot, setForgot] = useState({\n    password: \"\",\n    email: \"\"\n  });\n  const validation = () => {\n    if (!forgot.email) {\n      setError(\"Please enter your Email.\");\n      return false;\n    }\n    if (!forgot.password) {\n      setError(\"Please enter your Password.\");\n      return false;\n    }\n    setError(\"\");\n    return true;\n  };\n\n  //   forgot.email = id;\n  const handleInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForgot({\n      ...forgot,\n      [name]: value\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    let isValid = validation();\n    if (isValid) {\n      if (!isUpper(forgot.password) || !isLower(forgot.password) || forgot.password.length < 8) {\n        enqueueSnackbar(\"Password should contain atleast one uppercase, one lowercase , length must be greater or equal to 8 and it should be alphanumeric\", {\n          variant: \"warning\"\n        });\n        return;\n      }\n      axiosInstance.post(\"/forgot\", forgot).then(response => {\n        if (response.status === 200) {\n          navigate(\"/login\");\n          enqueueSnackbar(\"Password Changed succesfully\", {\n            variant: \"success\"\n          });\n        }\n      }).catch(err => {\n        console.log(\"ERR :: \", err.response.data.err);\n        let error_message = err.response.data.err;\n        enqueueSnackbar(error_message, {\n          variant: \"warning\"\n        });\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      className: \"hero-login\",\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: \"Reset Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          id: \"email\",\n          variant: \"outlined\",\n          label: \"Email\",\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Enter Email...\",\n          onChange: e => handleInput(e),\n          value: forgot.email,\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          id: \"password\",\n          variant: \"outlined\",\n          label: \"Password\",\n          name: \"password\",\n          type: \"password\",\n          fullWidth: true,\n          placeholder: \"Enter a password...\",\n          onChange: e => handleInput(e),\n          value: forgot.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: error ? /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"warning\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button\",\n          variant: \"contained\",\n          onClick: handleSubmit,\n          children: \"RESET\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"link\",\n          href: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(Forgot, \"oCNpPOgz2J3RroddJPdPHxLQDhM=\", false, function () {\n  return [useNavigate, useSnackbar, useParams];\n});\n_c = Forgot;\nexport default Forgot;\nvar _c;\n$RefreshReg$(_c, \"Forgot\");","map":{"version":3,"names":["Button","Stack","TextField","useLocation","useNavigate","useParams","useSearchParams","Box","React","useState","axiosInstance","isLower","isUpper","useSnackbar","jsxDEV","_jsxDEV","Forgot","_s","navigate","enqueueSnackbar","id","error","setError","forgot","setForgot","password","email","validation","handleInput","e","name","value","target","handleSubmit","preventDefault","isValid","length","variant","post","then","response","status","catch","err","console","log","data","error_message","children","className","spacing","fileName","_jsxFileName","lineNumber","columnNumber","required","label","type","placeholder","onChange","fullWidth","onClick","href","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/my-node-app/reactclient/src/Components/Forgot.js"],"sourcesContent":["import { Button, Stack, TextField } from \"@mui/material\";\r\nimport {\r\n  useLocation,\r\n  useNavigate,\r\n  useParams,\r\n  useSearchParams,\r\n} from \"react-router-dom\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useState } from \"react\";\r\nimport \"../Styles/Login.css\";\r\nimport axiosInstance from \"../utils/axiosInstance\";\r\nimport { isLower, isUpper } from \"../lib/stringValidator\";\r\nimport { useSnackbar } from \"notistack\";\r\n// import validator from \"validator\";\r\n\r\nconst Forgot = () => {\r\n  let navigate = useNavigate();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { id } = useParams();\r\n  const [error, setError] = useState(\"\");\r\n  let [forgot, setForgot] = useState({\r\n    password: \"\",\r\n    email: \"\",\r\n  });\r\n\r\n  const validation = () => {\r\n    if (!forgot.email) {\r\n      setError(\"Please enter your Email.\");\r\n      return false;\r\n    }\r\n    if (!forgot.password) {\r\n      setError(\"Please enter your Password.\");\r\n      return false;\r\n    }\r\n    setError(\"\");\r\n    return true;\r\n  };\r\n\r\n  //   forgot.email = id;\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setForgot({ ...forgot, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let isValid = validation();\r\n    if (isValid) {\r\n      if (\r\n        !isUpper(forgot.password) ||\r\n        !isLower(forgot.password) ||\r\n        forgot.password.length < 8\r\n      ) {\r\n        enqueueSnackbar(\r\n          \"Password should contain atleast one uppercase, one lowercase , length must be greater or equal to 8 and it should be alphanumeric\",\r\n          { variant: \"warning\" }\r\n        );\r\n        return;\r\n      }\r\n\r\n      axiosInstance\r\n        .post(\"/forgot\", forgot)\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            navigate(\"/login\");\r\n            enqueueSnackbar(\"Password Changed succesfully\", {\r\n              variant: \"success\",\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"ERR :: \", err.response.data.err);\r\n          let error_message = err.response.data.err;\r\n          enqueueSnackbar(error_message, { variant: \"warning\" });\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Box className=\"hero-login\">\r\n        <Stack spacing={2} className=\"form\">\r\n          <h2 className=\"title\">Reset Password</h2>\r\n          <TextField\r\n            required\r\n            id=\"email\"\r\n            variant=\"outlined\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Enter Email...\"\r\n            onChange={(e) => handleInput(e)}\r\n            value={forgot.email}\r\n            fullWidth\r\n          />\r\n\r\n          <TextField\r\n            required\r\n            id=\"password\"\r\n            variant=\"outlined\"\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            fullWidth\r\n            placeholder=\"Enter a password...\"\r\n            onChange={(e) => handleInput(e)}\r\n            value={forgot.password}\r\n          />\r\n          <div>{error ? <small className=\"warning\">{error}</small> : \"\"}</div>\r\n\r\n          <Button className=\"button\" variant=\"contained\" onClick={handleSubmit}>\r\n            RESET\r\n          </Button>\r\n          <a className=\"link\" href=\"/login\">\r\n            Login\r\n          </a>\r\n        </Stack>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Forgot;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}